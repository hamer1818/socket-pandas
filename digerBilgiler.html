<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="utf-8">
    <title>Hamza ORTATEPE</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.0.js"
    integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.2/dist/echarts.min.js"></script>
   
</head>

<body>
    <!-- navbar kısmı -->
    <nav class="navbar navbar-expand-lg navbar-light bg-orange">
        <div class="container">
          <a class="navbar-brand" href="#">
            <span>GÖRSEL PROGRAMLAMA ŞİRKETİ</span>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="./index.html">Anasayfa</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./rastgele.html">Rastgele</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./digerBilgiler.html">Diğer Bilgiler</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./bilgiIslem.html">Bilgi İşlem</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
<!-- içerik kısmı -->

    <div id="rastgeleCalisanCekDeger" class="container py-4">
        <!-- departman, maas, semt, yaş, calisan bilgileri için tablo  -->
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Semtlerden Kadıköyde oturan çalışanların adları</th>
                    <th scope="col">Departmanlardaki toplam maaş</th>
                    <th scope="col">Departmanlardaki ortalama maaş</th>
                    <th scope="col">Departmandaki minimum maaş ve yaş değerlerini alır</th>
                    <th scope="col">Departmandaki ortalama yaş değerini alır</th>
                    <th scope="col">Semtlere göre çalışan sayılarını gösterir</th>
                    <th scope="col">Semtlerden, Kadıköy'de çalışan sayısını gösterir</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td id="calisan1"></td>
                    <td id="toplamMaas1"></td>
                    <td id="departmanlarinOrtalamaMaaslari1"></td>
                    <td id="enDusukYasMaas1"></td>
                    <td id="departmandakiOrtalamaYas1"></td>
                    <td id="semtlerdekiCalisanSayilari1"></td>
                    <td id="semtlerdekiKadikoydekiCalisanSayisi1"></td>
                </tr>
                <tr>
                  <td id="calisan2"></td>
                  <td id="toplamMaas2"></td>
                  <td id="departmanlarinOrtalamaMaaslari2"></td>
                  <td id="enDusukYasMaas2"></td>
                  <td id="departmandakiOrtalamaYas2"></td>
                  <td id="semtlerdekiCalisanSayilari2"></td>
                  <td id="semtlerdekiKadikoydekiCalisanSayisi2"></td>
                </tr>
                <tr>
                  <td id="calisan3"></td>
                  <td id="toplamMaas3"></td>
                  <td id="departmanlarinOrtalamaMaaslari3"></td>
                  <td id="enDusukYasMaas3"></td>
                  <td id="departmandakiOrtalamaYas3"></td>
                  <td id="semtlerdekiCalisanSayilari3"></td>
                  <td id="semtlerdekiKadikoydekiCalisanSayisi3"></td>
                </tr>
            </tbody>
    </div>




<!-- footer kısmı -->
<footer class="bg-dark text-white">
  <div class="container py-4">
    <div class="row">
      <div class="col-lg-6">
        <h5>GÖRSEL PROGRAMLAMA ŞİRKETİ</h5>
        <p>GÖRSEL PROGRAMLAMA ŞİRKETİ: Görsel programlama final ödevi içib oluşturulmuş bir projedir.</p>
      </div>
      <div class="col-lg-3">
        <h5>Bağlantılar</h5>
        <ul class="list-unstyled">
          <li><a href="./index.html">Anasayfa</a></li>
          <li><a href="./rastgele.html">Rastgele</a></li>
          <li><a href="./digerBilgiler.html">Diğer Bilgiler</a></li>
          <li><a href="./bilgiIslem.html">Diğer Bilgiler</a></li>
        </ul>
      </div>
      <div class="col-lg-3">
        <h5>İletişim Bilgileri</h5>
        <ul class="list-unstyled">
          <li>Adres: Bergama / İzmir</li>
          <li>Telefon: 545 360 06 58</li>
          <li>Email: 90210000172@ogrenci.ege.edu.tr</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="bg-secondary py-2">
    <div class="container text-center">
      <p class="mb-0">Telif Hakkı &copy; 2023 GÖRSEL PROGRAMLAMA ŞİRKETİ. Tüm hakları saklıdır.</p>
    </div>
  </div>
</footer>
      
      
    

       



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous">
    </script>

    <script src="https://cdn.socket.io/3.1.3/socket.io.min.js"
        integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(function () {
            console.log("ready!");


            const socket = io("http://localhost:8081", {
                transports: ["websocket", "polling", "flashsocket"],
                path: "/ws/socket.io"
            });
            


            socket.on("semtlereGoreCalisanIsimleri", data => {
                // gelen veri [{"calisan":"Mustafa Can","Departman":"Bilgi Islem","Yas":42,"Semt":"Maltepe","Maas":4500}] bu şekilde geliyor. bunun içinde verileri ayrıştırıp ekrana basıyoruz.
                
                // console.log(JSON.parse(data));
                var veriler = JSON.parse(data);
                // console.log(veriler[0]);

                if(veriler[0] != null){
                  veri1 = veriler[0];
                }else{
                  veri1 = "----------------";
                }
                if(veriler[1] != null){
                  veri2 = veriler[1];
                }else{
                  veri2 = "----------------";
                }
                if(veriler[2] != null){
                  veri3 = veriler[2];
                }else{
                  veri3 = "----------------";
                }
                    
                $("#rastgeleCalisanCekDeger tbody tr #calisan1").html(veri1);
                $("#rastgeleCalisanCekDeger tbody tr #calisan2").html(veri2);
                $("#rastgeleCalisanCekDeger tbody tr #calisan3").html(veri3);


            });

            socket.on("departmanlarinToplamMaaslari", data => {
              var veriler = JSON.parse(data);
              // console.log(veriler);
              $("#rastgeleCalisanCekDeger tbody tr #toplamMaas1").html("insan kaynakları: " +veriler[0]+"₺");
              $("#rastgeleCalisanCekDeger tbody tr #toplamMaas2").html("bilgi işlem: " +veriler[1]+"₺");
              $("#rastgeleCalisanCekDeger tbody tr #toplamMaas3").html("muhasebe: "+veriler[2]+"₺");
            });

            socket.on("departmanlarinOrtalamaMaaslari", data => {
              var veriler = JSON.parse(data);
              // console.log(veriler);
              $("#rastgeleCalisanCekDeger tbody tr #departmanlarinOrtalamaMaaslari1").html("insan kaynakları: " +veriler[0]+"₺");
              $("#rastgeleCalisanCekDeger tbody tr #departmanlarinOrtalamaMaaslari2").html("bilgi işlem: " +veriler[1]+"₺");
              $("#rastgeleCalisanCekDeger tbody tr #departmanlarinOrtalamaMaaslari3").html("muhasebe: "+veriler[2]+"₺");
            });

            socket.on("departmanlarinEnDusukMaasVeYas", data => {
              // console.log(data);
              var veriler = JSON.parse(data);
              // console.log(veriler);
              $("#rastgeleCalisanCekDeger tbody tr #enDusukYasMaas1").html(veriler[0].Maas+"₺\nYaş: "+ veriler[0].Yas);
              $("#rastgeleCalisanCekDeger tbody tr #enDusukYasMaas2").html(veriler[1].Maas+"₺\nYaş: "+ veriler[1].Yas);
              $("#rastgeleCalisanCekDeger tbody tr #enDusukYasMaas3").html(veriler[2].Maas+"₺\nYaş: "+ veriler[2].Yas);

            });

            socket.on("departmandakiOrtalamaYas", data => {
              // console.log(data);
              var veriler = JSON.parse(data);
              // console.log(veriler);
              $("#rastgeleCalisanCekDeger tbody tr #departmandakiOrtalamaYas1").html("insan kaynakları: "+veriler[0]);
              $("#rastgeleCalisanCekDeger tbody tr #departmandakiOrtalamaYas2").html("bilgi işlem: "+veriler[1]);
              $("#rastgeleCalisanCekDeger tbody tr #departmandakiOrtalamaYas3").html("muhasebe: "+veriler[2]);
            });

            socket.on("semtlerdekiCalisanSayilari", data => {
              // console.log(data);
              var veriler = JSON.parse(data);
              // console.log(veriler);
              $("#rastgeleCalisanCekDeger tbody tr #semtlerdekiCalisanSayilari1").html("Kadıköy: "+veriler[0]);
              $("#rastgeleCalisanCekDeger tbody tr #semtlerdekiCalisanSayilari2").html("Maltepe: "+veriler[1]);
              $("#rastgeleCalisanCekDeger tbody tr #semtlerdekiCalisanSayilari3").html("Tuzla: "+veriler[2]);
            });

            socket.on("semtlerdekiKadikoydekiCalisanSayisi", data => {
              console.log(data);
              var veriler = JSON.parse(data);
              console.log(veriler);
              $("#rastgeleCalisanCekDeger tbody tr #semtlerdekiKadikoydekiCalisanSayisi1").html("Kadıköy: "+veriler);
              $("#rastgeleCalisanCekDeger tbody tr #semtlerdekiKadikoydekiCalisanSayisi2").html("Kadıköy: "+veriler);
              $("#rastgeleCalisanCekDeger tbody tr #semtlerdekiKadikoydekiCalisanSayisi3").html("Kadıköy: "+veriler);
            });
          




         

            socket.emit("semtlereGoreCalisanIsimleri");
            socket.emit("departmanlarinToplamMaaslari");
            socket.emit("departmanlarinOrtalamaMaaslari");
            socket.emit("departmanlarinEnDusukMaasVeYas");
            socket.emit("departmandakiOrtalamaYas");
            socket.emit("semtlerdekiCalisanSayilari");
            socket.emit("semtlerdekiKadikoydekiCalisanSayisi");

            



        });
    </script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="./lib/easing/easing.min.js"></script>
    <script src="./lib/waypoints/waypoints.min.js"></script>
    <script src="./lib/counterup/counterup.min.js"></script>
    <script src="./lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Template Javascript -->
    <script src="./js/main.js"></script>

</body>

</html>